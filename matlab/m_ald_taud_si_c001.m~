%function m_ald_taud_si(str_ald,str_nmd_per,str_nmd_vc,str_alloy)
%--------------------------------------------------------------------------
%m_ald_taud(str_ald,str_nmd_perfect,str_nmd_vc,str_alloy)
% m_ald_taud(...
% '/home/jason/disorder/lj/ald/m1.1/10x/Data_fullBZ.xls',...
% '/home/jason/disorder2/lj/alloy/10K/0.05/10x/nmd_vc/work/1/',...
% '/home/jason/disorder2/lj/alloy/10K/0.05/10x/NMD/1/work/',...
% '/home/jason/disorder2/lj/alloy/10K/0.05/10x/nmd_vc/work/1/')
%--------------------------------------------------------------------------

clear

constant = m_constant;

bin_size = 35;

% loglog(...
%     alloy.freq,alloy.life,'.'...
%     )

sys_size = '10x';

%--------------------------------------------------------------------------
%0.001
%-------------------------------------------------------------------------- 
ipt = 1;
str_ald = ['/home/jason/disorder2/si/ald/conv/' sys_size '/Data_fullBZ.xls'];
str_alloy = ['/home/jason/disorder2/si/alloy/0.001/' sys_size '/'];
str_nmd_per = ['/home/jason/disorder2/si/alloy/0.001/' sys_size '/'];
ald = m_joe_read_data_si(str_ald);
nmd_per(ipt)=load(strcat(str_nmd_per,'nmd.mat'));
sedald(ipt) =...
    m_joe_ald2nmd_si(...
    nmd_per(ipt).NUM_KPTS ,...
    nmd_per(ipt).kptmodelist ,...
    nmd_per(ipt).NUM_MODES ,...
    ald );
alloy(ipt) = load(strcat(str_alloy,'ALLOY.mat'));

cond(ipt).nmd_per =...
    m_ald_cond(...
    (1./( (1./(sedald(ipt).life/sqrt(nmd_per(ipt).x0.vm))) )),...
    sedald(ipt).vel(:,1)/sqrt(nmd_per(ipt).x0.vm),...
    nmd_per(ipt).x0.VOLUME*constant.ang2m^3)
[nmd_freq(ipt).bins nmd_cond(ipt).freq] =...
    m_ald_cond_freq(...
    sedald(ipt).freq/sqrt(nmd_per(ipt).x0.vm),...
    (1./( (1./(sedald(ipt).life/sqrt(nmd_per(ipt).x0.vm))) )),...
    sedald(ipt).vel(:,1)/sqrt(nmd_per(ipt).x0.vm),...
    nmd_per(ipt).x0.VOLUME*constant.ang2m^3,...
    bin_size);
cond(ipt).ald =...
    m_ald_cond(...
    (1./( (1./(sedald(ipt).life/sqrt(nmd_per(ipt).x0.vm))) +...
    (1./alloy(ipt).life(:,1)) )),...
    sedald(ipt).vel(:,1)/sqrt(nmd_per(ipt).x0.vm),...
    nmd_per(ipt).x0.VOLUME*constant.ang2m^3)
[ald_freq(ipt).bins ald_cond(ipt).freq] =...
    m_ald_cond_freq(...
    sedald(ipt).freq/sqrt(nmd_per(ipt).x0.vm),...
    (1./( (1./(sedald(ipt).life/sqrt(nmd_per(ipt).x0.vm))) +...
    (1./alloy(ipt).life(:,1)) )),...
    sedald(ipt).vel(:,1)/sqrt(nmd_per(ipt).x0.vm),...
    nmd_per(ipt).x0.VOLUME*constant.ang2m^3,...
    bin_size);
loglog(...
    sedald(ipt).freq*sqrt(nmd_per(ipt).x0.vm),...
    sedald(ipt).life/sqrt(nmd_per(ipt).x0.vm),'.',...
    alloy(ipt).freq,...
    alloy(ipt).life,'.',...
    alloy(ipt).freq,...
    (1./( (1./(sedald(ipt).life/sqrt(nmd_per(ipt).x0.vm))) +...
    (1./alloy(ipt).life(:,1)) )),'.',...
    alloy(ipt).freq/sqrt(nmd_per(ipt).x0.vm),...
    1E17*alloy(ipt).freq.^(-2),...
    alloy(ipt).freq/sqrt(nmd_per(ipt).x0.vm),...
    1E42*alloy(ipt).freq.^(-4)...
    )
%--------------------------------------------------------------------------
pause
%-------------------------------------------------------------------------- 

m_ald_taud_si_c001_createfigure(...
    sedald(ipt).freq*sqrt(nmd_per(ipt).x0.vm),...
    sedald(ipt).life/sqrt(nmd_per(ipt).x0.vm),...
    alloy(ipt).freq,...
    [alloy(ipt).life ...
    (1./( (1./(sedald(ipt).life/sqrt(nmd_per(ipt).x0.vm))) +...
    (1./alloy(ipt).life(:,1)) ))],...
    alloy(ipt).freq/sqrt(nmd_per(ipt).x0.vm),...
    [1E17*alloy(ipt).freq.^(-2) ...
    1E42*alloy(ipt).freq.^(-4)]...
    )



